function tabbedloadjscssfile(e,t){if(t==="js"){var n=document.createElement("script");n.setAttribute("type","text/javascript");n.setAttribute("src",e)}else if(t==="css"){var n=document.createElement("link");n.setAttribute("rel","stylesheet");n.setAttribute("type","text/css");n.setAttribute("href",e)}if(typeof n!=="undefined")document.getElementsByTagName("head")[0].appendChild(n)}function tabbedis_array(e){var t=Object.prototype.toString.call([]);if(t==="[object Array]"){if(e.length>0){return Object.prototype.toString.call(e)==="[object Array]"}else{return 0}}else{return-1}}tabbedloadjscssfile(CKEDITOR.basePath+CKEDITOR.plugins.basePath+"tabbedimagebrowser/plugin.css","css");var SetURLtoCKeditor=function(e){var t=CKEDITOR.dialog.getCurrent();t.setValueOf("info","txtUrl",e);t.setValueOf("info","txtWidth","");t.setValueOf("info","txtHeight","");t.setValueOf("advanced","txtdlgGenStyle","max-width:100%;max-height:100%")};var GenerateTabbedHTMLfromArray=function(e,t,n){var r=tabbedis_array(e);var i="";if(r){if(n!=""){i+='<div id="dsbrandimages">'+n+"</div>"}i+='<div id="dsAssetsImagesDiv" >';for(var s=0;s<e.length;s++){i+='<div class="dsimgandradiocontainerdiv">';i+='<label for="'+s+'dsassets" class="dsimgcontainerdiv">';i+='<img class="dsimageblock" src="'+t[s]+'"/>';i+="</label>";i+='<div class="dsimageradio">';i+='<input id="'+s+'dsassets" type="radio" name="dsimagebrowserradio" value="1" onclick="SetURLtoCKeditor(\''+e[s]+"')\">";i+="</div>";i+="</div>"}i+="</div>"}if((t===undefined||t==="")&&n===""){i+="<div>No images available.</div>"}return i};var GenerateTabbedbrowserHTML=function(){var e="";if(CKEDITOR.config.tabbedimages!=undefined&&CKEDITOR.config.tabbedthumbimages!=undefined){e=GenerateTabbedHTMLfromArray(CKEDITOR.config.tabbedimages,CKEDITOR.config.tabbedthumbimages,"")}else{e="<div>No images available.</div>"}return e};var ReplaceDSbrowserHTML=function(){var e=GenerateTabbedbrowserHTML();document.getElementById("dsbrowserfullcontainer").innerHTML=e};CKEDITOR.plugins.add("tabbedimagebrowser",{init:function(e){CKEDITOR.on("dialogDefinition",function(e){var t=e.data.name;var n=e.data.definition;var r=e.data;if(t==="image"){var i=GenerateTabbedbrowserHTML();n.addContents({id:"TabbedImageBrowser",label:"Tabbed Image Browser",accessKey:"M",elements:[{type:"hbox",id:"mydsbrowserhboxele",children:[{type:"html",html:'<div style="height: 378px;overflow-y: scroll;" id="dsbrowserfullcontainer">'+i+"</div>"}]},{id:"dsimagetext",type:"text",accessKey:"M",style:"display:none"}]});n.onShow=function(){ReplaceDSbrowserHTML()}}})}})
